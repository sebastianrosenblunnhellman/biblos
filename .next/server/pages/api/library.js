"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/library";
exports.ids = ["pages/api/library"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flibrary&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flibrary%2Findex.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flibrary&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flibrary%2Findex.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_library_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/library/index.js */ \"(api)/./pages/api/library/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_library_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_library_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/library\",\n        pathname: \"/api/library\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_library_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmxpYnJhcnkmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmxpYnJhcnklMkZpbmRleC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN5RDtBQUN6RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsd0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2JpYmxvcy8/MWVkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2xpYnJhcnkvaW5kZXguanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9saWJyYXJ5XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbGlicmFyeVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flibrary&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flibrary%2Findex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./models/library.js":
/*!***************************!*\
  !*** ./models/library.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Library: () => (/* binding */ Library),\n/* harmony export */   LibraryItem: () => (/* binding */ LibraryItem)\n/* harmony export */ });\nclass LibraryItem {\n    constructor(id, name, type, parent = null, metadata = {}){\n        this.id = id;\n        this.name = name;\n        this.type = type; // 'folder' o 'book'\n        this.parent = parent;\n        this.metadata = metadata; // autor, año, descripción, etc.\n        this.children = type === \"folder\" ? [] : null;\n        this.driveLink = type === \"book\" ? metadata.driveLink || null : null;\n    }\n    addChild(child) {\n        if (this.type !== \"folder\") throw new Error(\"Cannot add child to a book\");\n        this.children.push(child);\n        return child;\n    }\n}\nclass Library {\n    constructor(){\n        this.root = new LibraryItem(\"root\", \"Biblioteca\", \"folder\");\n        this.itemsMap = new Map([\n            [\n                \"root\",\n                this.root\n            ]\n        ]);\n    }\n    addItem(id, name, type, parentId, metadata = {}) {\n        const parent = this.getItem(parentId) || this.root;\n        const newItem = new LibraryItem(id, name, type, parentId, metadata);\n        parent.addChild(newItem);\n        this.itemsMap.set(id, newItem);\n        return newItem;\n    }\n    getItem(id) {\n        return this.itemsMap.get(id);\n    }\n    searchItems(query) {\n        query = query.toLowerCase();\n        return Array.from(this.itemsMap.values()).filter((item)=>item.name.toLowerCase().includes(query) || item.metadata.author && item.metadata.author.toLowerCase().includes(query) || item.metadata.description && item.metadata.description.toLowerCase().includes(query));\n    }\n    toJSON() {\n        return JSON.stringify(this.root);\n    }\n    static fromJSON(jsonString) {\n        const library = new Library();\n        const parseNode = (node, parentId)=>{\n            if (node.id === \"root\") {\n                library.root = node;\n                library.itemsMap.set(\"root\", node);\n            } else {\n                library.addItem(node.id, node.name, node.type, parentId, node.metadata);\n            }\n            if (node.children) {\n                node.children.forEach((child)=>parseNode(child, node.id));\n            }\n        };\n        parseNode(JSON.parse(jsonString), null);\n        return library;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsSUFBSW1DLEtBQUtsQyxRQUFRLEVBQUU7Z0JBQ2pCa0MsS0FBS2xDLFFBQVEsQ0FBQ21DLE9BQU8sQ0FBQ2hDLENBQUFBLFFBQVM4QixVQUFVOUIsT0FBTytCLEtBQUt2QyxFQUFFO1lBQ3pEO1FBQ0Y7UUFFQXNDLFVBQVVMLEtBQUtRLEtBQUssQ0FBQ0wsYUFBYTtRQUNsQyxPQUFPQztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaWJsb3MvLi9tb2RlbHMvbGlicmFyeS5qcz80ZGJkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBMaWJyYXJ5SXRlbSB7XHJcbiAgY29uc3RydWN0b3IoaWQsIG5hbWUsIHR5cGUsIHBhcmVudCA9IG51bGwsIG1ldGFkYXRhID0ge30pIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlOyAvLyAnZm9sZGVyJyBvICdib29rJ1xyXG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7IC8vIGF1dG9yLCBhw7FvLCBkZXNjcmlwY2nDs24sIGV0Yy5cclxuICAgIHRoaXMuY2hpbGRyZW4gPSB0eXBlID09PSAnZm9sZGVyJyA/IFtdIDogbnVsbDtcclxuICAgIHRoaXMuZHJpdmVMaW5rID0gdHlwZSA9PT0gJ2Jvb2snID8gbWV0YWRhdGEuZHJpdmVMaW5rIHx8IG51bGwgOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2hpbGQoY2hpbGQpIHtcclxuICAgIGlmICh0aGlzLnR5cGUgIT09ICdmb2xkZXInKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgY2hpbGQgdG8gYSBib29rJyk7XHJcbiAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xyXG4gICAgcmV0dXJuIGNoaWxkO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExpYnJhcnkge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5yb290ID0gbmV3IExpYnJhcnlJdGVtKCdyb290JywgJ0JpYmxpb3RlY2EnLCAnZm9sZGVyJyk7XHJcbiAgICB0aGlzLml0ZW1zTWFwID0gbmV3IE1hcChbWydyb290JywgdGhpcy5yb290XV0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpZCwgbmFtZSwgdHlwZSwgcGFyZW50SWQsIG1ldGFkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0SXRlbShwYXJlbnRJZCkgfHwgdGhpcy5yb290O1xyXG4gICAgY29uc3QgbmV3SXRlbSA9IG5ldyBMaWJyYXJ5SXRlbShpZCwgbmFtZSwgdHlwZSwgcGFyZW50SWQsIG1ldGFkYXRhKTtcclxuICAgIHBhcmVudC5hZGRDaGlsZChuZXdJdGVtKTtcclxuICAgIHRoaXMuaXRlbXNNYXAuc2V0KGlkLCBuZXdJdGVtKTtcclxuICAgIHJldHVybiBuZXdJdGVtO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXRlbShpZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXRlbXNNYXAuZ2V0KGlkKTtcclxuICB9XHJcblxyXG4gIHNlYXJjaEl0ZW1zKHF1ZXJ5KSB7XHJcbiAgICBxdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLml0ZW1zTWFwLnZhbHVlcygpKS5maWx0ZXIoaXRlbSA9PiBcclxuICAgICAgaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpIHx8IFxyXG4gICAgICAoaXRlbS5tZXRhZGF0YS5hdXRob3IgJiYgaXRlbS5tZXRhZGF0YS5hdXRob3IudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkpIHx8XHJcbiAgICAgIChpdGVtLm1ldGFkYXRhLmRlc2NyaXB0aW9uICYmIGl0ZW0ubWV0YWRhdGEuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgdG9KU09OKCkge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMucm9vdCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZnJvbUpTT04oanNvblN0cmluZykge1xyXG4gICAgY29uc3QgbGlicmFyeSA9IG5ldyBMaWJyYXJ5KCk7XHJcbiAgICBjb25zdCBwYXJzZU5vZGUgPSAobm9kZSwgcGFyZW50SWQpID0+IHtcclxuICAgICAgaWYgKG5vZGUuaWQgPT09ICdyb290Jykge1xyXG4gICAgICAgIGxpYnJhcnkucm9vdCA9IG5vZGU7XHJcbiAgICAgICAgbGlicmFyeS5pdGVtc01hcC5zZXQoJ3Jvb3QnLCBub2RlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsaWJyYXJ5LmFkZEl0ZW0obm9kZS5pZCwgbm9kZS5uYW1lLCBub2RlLnR5cGUsIHBhcmVudElkLCBub2RlLm1ldGFkYXRhKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICBub2RlLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4gcGFyc2VOb2RlKGNoaWxkLCBub2RlLmlkKSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHBhcnNlTm9kZShKU09OLnBhcnNlKGpzb25TdHJpbmcpLCBudWxsKTtcclxuICAgIHJldHVybiBsaWJyYXJ5O1xyXG4gIH1cclxufVxuIl0sIm5hbWVzIjpbIkxpYnJhcnlJdGVtIiwiY29uc3RydWN0b3IiLCJpZCIsIm5hbWUiLCJ0eXBlIiwicGFyZW50IiwibWV0YWRhdGEiLCJjaGlsZHJlbiIsImRyaXZlTGluayIsImFkZENoaWxkIiwiY2hpbGQiLCJFcnJvciIsInB1c2giLCJMaWJyYXJ5Iiwicm9vdCIsIml0ZW1zTWFwIiwiTWFwIiwiYWRkSXRlbSIsInBhcmVudElkIiwiZ2V0SXRlbSIsIm5ld0l0ZW0iLCJzZXQiLCJnZXQiLCJzZWFyY2hJdGVtcyIsInF1ZXJ5IiwidG9Mb3dlckNhc2UiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJpdGVtIiwiaW5jbHVkZXMiLCJhdXRob3IiLCJkZXNjcmlwdGlvbiIsInRvSlNPTiIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tSlNPTiIsImpzb25TdHJpbmciLCJsaWJyYXJ5IiwicGFyc2VOb2RlIiwibm9kZSIsImZvckVhY2giLCJwYXJzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/library.js\n");

/***/ }),

/***/ "(api)/./pages/api/library/index.js":
/*!************************************!*\
  !*** ./pages/api/library/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _models_library__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../models/library */ \"(api)/./models/library.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction handler(req, res) {\n    if (req.method === \"GET\") {\n        try {\n            const filePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"data\", \"sampleLibrary.json\");\n            const fileContents = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(filePath, \"utf8\");\n            // Parseamos el JSON directamente ya que no necesitamos cargar toda la estructura\n            res.status(200).json(JSON.parse(fileContents));\n        } catch (error) {\n            res.status(500).json({\n                error: \"Error al cargar la biblioteca\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            error: \"M\\xe9todo no permitido\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbGlicmFyeS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0Q7QUFDOUI7QUFDSTtBQUVULFNBQVNHLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUN0QyxJQUFJRCxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QixJQUFJO1lBQ0YsTUFBTUMsV0FBV0wsZ0RBQVMsQ0FBQ08sUUFBUUMsR0FBRyxJQUFJLFFBQVE7WUFDbEQsTUFBTUMsZUFBZVYsc0RBQWUsQ0FBQ00sVUFBVTtZQUUvQyxpRkFBaUY7WUFDakZGLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNDLEtBQUtDLEtBQUssQ0FBQ0w7UUFDbEMsRUFBRSxPQUFPTSxPQUFPO1lBQ2RaLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVHLE9BQU87WUFBZ0M7UUFDaEU7SUFDRixPQUFPO1FBQ0xaLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUcsT0FBTztRQUFzQjtJQUN0RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmlibG9zLy4vcGFnZXMvYXBpL2xpYnJhcnkvaW5kZXguanM/ZWIxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMaWJyYXJ5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL2xpYnJhcnknO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJywgJ3NhbXBsZUxpYnJhcnkuanNvbicpO1xyXG4gICAgICBjb25zdCBmaWxlQ29udGVudHMgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGY4Jyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBQYXJzZWFtb3MgZWwgSlNPTiBkaXJlY3RhbWVudGUgeWEgcXVlIG5vIG5lY2VzaXRhbW9zIGNhcmdhciB0b2RhIGxhIGVzdHJ1Y3R1cmFcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oSlNPTi5wYXJzZShmaWxlQ29udGVudHMpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBhbCBjYXJnYXIgbGEgYmlibGlvdGVjYScgfSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNw6l0b2RvIG5vIHBlcm1pdGlkbycgfSk7XHJcbiAgfVxyXG59XG4iXSwibmFtZXMiOlsiTGlicmFyeSIsImZzIiwicGF0aCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJmaWxlUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZmlsZUNvbnRlbnRzIiwicmVhZEZpbGVTeW5jIiwic3RhdHVzIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/library/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flibrary&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flibrary%2Findex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();